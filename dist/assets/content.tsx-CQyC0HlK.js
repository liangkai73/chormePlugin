import{r as o,j as s,A as a,c as r,R as d}from"./AIAssistant-wQz4aMWS.js";const c=()=>{const[e,i]=o.useState(!0),[n,t]=o.useState(!1);return o.useEffect(()=>{chrome.storage.sync.get(["enableAutoDisplay"],l=>{i(l.enableAutoDisplay!==!1)})},[]),e?s.jsxs("div",{className:"bg-white w-full h-full flex flex-col rounded-lg overflow-hidden shadow-lg",children:[s.jsxs("div",{className:"bg-blue-600 text-white p-2 flex justify-between items-center cursor-move",onMouseDown:l=>{},children:[s.jsx("span",{className:"font-medium",children:"AI 助手"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>t(!n),className:"p-1 hover:bg-blue-500 rounded",children:n?"□":"_"}),s.jsx("button",{onClick:()=>i(!1),className:"p-1 hover:bg-blue-500 rounded",children:"✕"})]})]}),!n&&s.jsx("div",{className:"flex-1 overflow-hidden p-4",children:s.jsx(a,{})})]}):null},u=document.getElementById("ai-assistant-container");if(!u){const e=document.createElement("div");e.id="ai-assistant-container",document.body.appendChild(e),e.style.position="fixed",e.style.bottom="20px",e.style.right="20px",e.style.width="350px",e.style.height="500px",e.style.zIndex="9999",e.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08)",e.style.borderRadius="8px",e.style.overflow="hidden",r.createRoot(e).render(s.jsx(d.StrictMode,{children:s.jsx(c,{})}))}chrome.runtime.onMessage.addListener((e,i,n)=>{if(e.action==="toggleAssistant"){const t=document.getElementById("ai-assistant-container");t&&(t.style.display==="none"?t.style.display="block":t.style.display="none"),n({success:!0})}return!0});

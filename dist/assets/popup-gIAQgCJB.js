import{r as c,j as e,A as b,c as p,R as f}from"./AIAssistant-wQz4aMWS.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function l(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=l(t);fetch(t.href,s)}})();const h=()=>{const[r,n]=c.useState({apiKey:"",modelName:"gpt-3.5-turbo",enableAutoDisplay:!0}),[l,o]=c.useState("");c.useEffect(()=>{chrome.storage.sync.get(["apiKey","modelName","enableAutoDisplay"],a=>{n({apiKey:a.apiKey||"",modelName:a.modelName||"gpt-3.5-turbo",enableAutoDisplay:a.enableAutoDisplay===void 0?!0:a.enableAutoDisplay})})},[]);const t=()=>{chrome.storage.sync.set(r,()=>{o("设置已保存！"),setTimeout(()=>o(""),3e3)})},s=a=>{const{name:i,value:d,type:u}=a.target,m=u==="checkbox";n(x=>({...x,[i]:m?a.target.checked:d}))};return e.jsxs("div",{className:"p-4 bg-white rounded border",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"设置"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),e.jsx("input",{type:"password",name:"apiKey",value:r.apiKey,onChange:s,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"输入您的 API Key"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"API Key 将安全地存储在您的浏览器中"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"模型"}),e.jsxs("select",{name:"modelName",value:r.modelName,onChange:s,className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5-Turbo"}),e.jsx("option",{value:"gpt-4",children:"GPT-4"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"enableAutoDisplay",checked:r.enableAutoDisplay,onChange:s,className:"rounded text-blue-500 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"自动显示问答窗口"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"启用后，当用户访问网页时自动显示问答窗口"})]}),e.jsx("button",{onClick:t,className:"w-full bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"保存设置"}),l&&e.jsx("div",{className:"mt-4 p-2 bg-green-100 text-green-700 rounded text-center",children:l})]})},g=()=>{const[r,n]=c.useState("assistant");return e.jsxs("div",{className:"p-4 h-full flex flex-col bg-gray-50",children:[e.jsx("header",{className:"mb-4",children:e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"AI Assistant"})}),e.jsxs("div",{className:"flex border-b mb-4",children:[e.jsx("button",{className:`px-4 py-2 ${r==="assistant"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"}`,onClick:()=>n("assistant"),children:"AI Assistant"}),e.jsx("button",{className:`px-4 py-2 ${r==="settings"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"}`,onClick:()=>n("settings"),children:"Settings"})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:r==="assistant"?e.jsx(b,{}):e.jsx(h,{})}),e.jsx("footer",{className:"mt-4 text-center text-sm text-gray-500",children:"AI Assistant v1.0.0"})]})};p.createRoot(document.getElementById("root")).render(e.jsx(f.StrictMode,{children:e.jsx(g,{})}));
